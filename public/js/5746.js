"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5746,5808],{16424:(e,n,a)=>{a.d(n,{Z:()=>r});var t=a(94015),i=a.n(t),s=a(23645),l=a.n(s)()(i());l.push([e.id,".v-enter-active[data-v-2a7c6db1],.v-leave-active[data-v-2a7c6db1]{transition:opacity .15s linear}.v-enter-from[data-v-2a7c6db1],.v-leave-to[data-v-2a7c6db1]{opacity:0}","",{version:3,sources:["webpack://./resources/js/components/FlashMessage.vue"],names:[],mappings:"AA4EA,kEAEA,8BACA,CACA,4DAEA,SACA",sourcesContent:['<template>\n    <Transition>\n        <div\n            v-if="alert && show"\n            style="\n                background-color: #d7f3e3;\n                border: 1px solid #c3ecd5;\n                border-radius: 0.25rem;\n                padding: 10px;\n                padding-right: 2em;\n                color: #227444;\n                min-width: 150px;\n                width: max-content;\n                position: fixed;\n                bottom: 70px;\n                right: 30px;\n                padding: 1em;\n                z-index: 999999999999999999999;\n            "\n        >\n            {{ alert }}\n            <span\n                @click="show = false"\n                style="\n                    color: black;\n                    margin-right: -10px;\n                    padding: 10px;\n                    font-size: 20px;\n                    cursor: pointer;\n                "\n                >×</span\n            >\n        </div>\n    </Transition>\n</template>\n\n<script>\nexport default {\n    name: "flashMessage",\n    props: ["message"],\n    data() {\n        return {\n            show: false,\n        };\n    },\n    methods: {},\n    mounted() {\n        let _this = this;\n        setTimeout(function () {\n            _this.show = false;\n        }, 3000);\n    },\n    // created: function () {\n    //     let _this = this;\n    //     setTimeout(function () {\n    //         _this.show = false;\n    //         console.log(_this.show, "created");\n    //     }, 3000);\n    // },\n    computed: {\n        alert: function () {\n            this.show = true;\n            return this.message;\n        },\n    },\n    // watch: {\n    //     message(newValue) {\n    //         setTimeout(function () {\n    //             this.show = false;\n    //         }, 3000);\n    //     },\n    // },\n};\n<\/script>\n\n<style scoped>\n.v-enter-active,\n.v-leave-active {\n    transition: opacity 0.15s linear;\n}\n.v-enter-from,\n.v-leave-to {\n    opacity: 0;\n}\n</style>\n'],sourceRoot:""}]);const r=l},65045:(e,n,a)=>{a.d(n,{Z:()=>r});var t=a(94015),i=a.n(t),s=a(23645),l=a.n(s)()(i());l.push([e.id,".wed-host-gallery[data-v-13ff9bbe]{background-color:#fff;margin-top:2em;padding:10px 0}.wed-host-gallery>div[data-v-13ff9bbe]:first-child{display:flex;justify-content:center}.wed-host-gallery-active[data-v-13ff9bbe]{border-bottom:4px solid #7f004b!important;color:#7f004b!important;font-weight:700!important}.wed-host-gallery>div:first-child>div[data-v-13ff9bbe]{border-bottom:.891053px solid #cbc7c7;border-right:.891053px solid #cbc7c7;color:#968585;cursor:pointer;flex:1;font-family:Roboto;font-size:17.8211px;font-style:normal;font-weight:400;line-height:21px;padding:2em 0;text-align:center}.wed-host-gallery>div:first-child>div[data-v-13ff9bbe]:last-child{border-right:none}.wed-host-gallery-items[data-v-13ff9bbe]{padding-bottom:1em}.wed-host-gallery-items>div[data-v-13ff9bbe]{grid-column-gap:1em;grid-row-gap:1.5em;display:grid;grid-auto-rows:max-content;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));padding:1em}.album-cont[data-v-13ff9bbe],.img-cont[data-v-13ff9bbe]{border-radius:20px;padding-top:100%;position:relative}.album-cont>img[data-v-13ff9bbe],.img-cont>img[data-v-13ff9bbe],.img-cont>video[data-v-13ff9bbe]{border-radius:20px;height:100%;-o-object-fit:cover;object-fit:cover;position:absolute;top:0;width:100%;z-index:99}.album-cont>span[data-v-13ff9bbe]:first-child{font-size:16px;font-weight:400;line-height:19px;right:15px;top:15px}.album-cont>span[data-v-13ff9bbe]:first-child,.album-cont>span[data-v-13ff9bbe]:nth-child(3){color:#fff;font-family:Roboto;font-style:normal;position:absolute;z-index:999}.album-cont>span[data-v-13ff9bbe]:nth-child(3){bottom:15px;font-size:15px;font-weight:500;left:15px;line-height:18px}.album-pics[data-v-13ff9bbe]{grid-column-gap:1em;grid-row-gap:1.5em;display:grid;grid-auto-rows:max-content;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));padding:1em}.album-header[data-v-13ff9bbe]{grid-column:1/-1;margin-bottom:1em}.album-header h4[data-v-13ff9bbe]{color:#7f004b;font-weight:700;margin:0}.wed-image-form[data-v-13ff9bbe]{grid-column-end:3;grid-column-start:1}.gallery_upload_form[data-v-13ff9bbe]{height:-moz-max-content;height:max-content}.gallery_album_form[data-v-13ff9bbe],.gallery_upload_form[data-v-13ff9bbe]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:hsla(0,0%,89%,.6);border-radius:17.8211px}.gallery_upload_form1>label[data-v-13ff9bbe]{cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%}.gallery_upload_form1>label>span[data-v-13ff9bbe]{align-self:center}.gallery_upload_form>label[data-v-13ff9bbe]{cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%}.gallery_upload_form>label>span[data-v-13ff9bbe]{align-self:center}@media screen and (max-width:769px){.wed-host-gallery[data-v-13ff9bbe]{padding:14px 0!important}}@media screen and (max-width:576px){.wed-host-gallery-items>div[data-v-13ff9bbe]{grid-column-gap:1em;grid-row-gap:1.5em;display:grid;grid-auto-rows:max-content;grid-template-columns:repeat(2,1fr)!important;padding:1em}}","",{version:3,sources:["webpack://./resources/js/components/host/Gallery.vue"],names:[],mappings:"AA6hBA,mCACA,qBAAA,CACA,cAAA,CACA,cACA,CAEA,mDACA,YAAA,CACA,sBACA,CAEA,0CAGA,yCAAA,CADA,uBAAA,CADA,yBAGA,CAEA,uDAWA,qCAAA,CADA,oCAAA,CAJA,aAAA,CAMA,cAAA,CALA,MAAA,CANA,kBAAA,CAGA,mBAAA,CAFA,iBAAA,CACA,eAAA,CAEA,gBAAA,CAIA,aAAA,CADA,iBAKA,CACA,kEACA,iBACA,CACA,yCACA,kBACA,CACA,6CAKA,mBAAA,CACA,kBAAA,CALA,YAAA,CAEA,0BAAA,CADA,yDAAA,CAEA,WAGA,CACA,wDAIA,kBAAA,CADA,gBAAA,CADA,iBAGA,CACA,iGAQA,kBAAA,CAFA,WAAA,CACA,mBAAA,CAAA,gBAAA,CAJA,iBAAA,CACA,KAAA,CACA,UAAA,CAIA,UACA,CACA,8CAQA,cAAA,CADA,eAAA,CAEA,gBAAA,CANA,UAAA,CADA,QASA,CACA,6FAFA,UAAA,CALA,kBAAA,CACA,iBAAA,CALA,iBAAA,CAGA,WAmBA,CAXA,+CAEA,WAAA,CAMA,cAAA,CADA,eAAA,CAJA,SAAA,CAMA,gBAEA,CACA,6BAKA,mBAAA,CACA,kBAAA,CALA,YAAA,CAEA,0BAAA,CADA,yDAAA,CAEA,WAGA,CAEA,+BACA,gBAAA,CACA,iBACA,CAEA,kCAEA,aAAA,CACA,eAAA,CAFA,QAGA,CASA,iCAEA,iBAAA,CADA,mBAEA,CAEA,sCAIA,uBAAA,CAAA,kBACA,CAEA,2EALA,iCAAA,CAAA,yBAAA,CADA,4BAAA,CAEA,uBAQA,CAMA,6CAKA,cAAA,CAJA,YAAA,CAKA,qBAAA,CAFA,WAAA,CAFA,sBAAA,CACA,UAIA,CAEA,kDACA,iBACA,CAEA,4CAKA,cAAA,CAJA,YAAA,CAKA,qBAAA,CAFA,WAAA,CAFA,sBAAA,CACA,UAIA,CAEA,iDACA,iBACA,CACA,oCACA,mCACA,wBACA,CACA,CACA,oCACA,6CAKA,mBAAA,CACA,kBAAA,CALA,YAAA,CAEA,0BAAA,CADA,6CAAA,CAEA,WAGA,CACA",sourcesContent:['\n<template>\n    <div>\n        <div class="gallery-all-cont wed-host-gallery container-md">\n            <div>\n                <div\n                    @click="\n                        activeGallery = \'Pictures\';\n                        clickedAlbum = [];\n                    "\n                    :class="{\n                        \'wed-host-gallery-active\': activeGallery == \'Pictures\',\n                    }"\n                >\n                    Pictures\n                </div>\n                <div\n                    @click="\n                        activeGallery = \'Albums\';\n                        clickedAlbum = [];\n                    "\n                    :class="{\n                        \'wed-host-gallery-active\': activeGallery == \'Albums\',\n                    }"\n                >\n                    Albums\n                </div>\n                <div\n                    @click="\n                        activeGallery = \'Videos\';\n                        clickedAlbum = [];\n                    "\n                    :class="{\n                        \'wed-host-gallery-active\': activeGallery == \'Videos\',\n                    }"\n                >\n                    Videos\n                </div>\n            </div>\n            <div class="wed-host-gallery-items">\n                <div v-if="activeGallery == \'Pictures\'">\n                    <form\n                        @submit.prevent="sendPictures($event)"\n                        class="wed-image-form gallery_upload_form"\n                    >\n                        <div class="p-3">\n                            <div class="row mb-2 p-2">\n                                <label for="image" class="form-label">Add Images</label>\n                                <input\n                                    type="file"\n                                    name="galleryImage[]"\n                                    class="form-control form-control-sm"\n                                    id=""\n                                    multiple\n                                    @change="uploadImages($event)"\n                                />\n                                <span\n                                    v-if="errorsSubmit && errorsSubmit.galleryImage"\n                                    class="errMsg"\n                                >{{ errorsSubmit.galleryImage[0] }}</span>\n                                <div>{{ uploadMultiMessage }}</div>\n                            </div>\n                            <div class="row p-3">\n                                <button\n                                    type="submit"\n                                    class="btn btn-sm btn-primary"\n                                    :disabled="disablePictures"\n                                >\n                                    Upload Images\n                                </button>\n                            </div>\n                        </div>\n                    </form>\n                    <div\n                        v-for="(item, index) in nonAlbumImages"\n                        :key="index"\n                        class="img-cont"\n                    >\n                        <img\n                            :src="\'/files/\' + invitations.id + \'/\' + item.imageName"\n                            alt=""\n                        />\n                    </div>\n                </div>\n                <div\n                    id="all-albums"\n                    v-if="activeGallery == \'Albums\' && clickedAlbum.length == 0"\n                >\n                    <form\n                        @submit.prevent="createAlbum($event)"\n                        class="wed-image-form gallery_upload_form"\n                    >\n                        <div class="p-3">\n                            <div class="row p-2">\n                                <label for="album" class="form-label">\n                                    Album Name</label\n                                >\n                                <input\n                                    type="text"\n                                    name="album"\n                                    class="form-control"\n                                    v-model="albumName"\n                                    required\n                                />\n                            </div>\n                            <div class="row mb-2 p-2">\n                                <label for="image" class="form-label">Add Images</label>\n                                <input\n                                    type="file"\n                                    name="galleryImage[]"\n                                    class="form-control form-control-sm"\n                                    id=""\n                                    multiple\n                                    accept="image/*"\n                                    @change="uploadImages($event)"\n                                />\n                                <span\n                                    v-if="errorsSubmit && errorsSubmit.galleryImage"\n                                    class="errMsg"\n                                >{{ errorsSubmit.galleryImage[0] }}</span>\n                                <div>{{ uploadMultiMessage }}</div>\n                            </div>\n                            <div class="row p-3">\n                                <button\n                                    type="submit"\n                                    class="btn btn-sm btn-primary"\n                                    :disabled="disablePictures"\n                                >\n                                    Create Album\n                                </button>\n                            </div>\n                        </div>\n                    </form>\n                    <div\n                        v-for="(item, index) in allAlbums"\n                        :key="index"\n                        @click="clickedAlbum = item.images; albumName = item.name"\n                        class="album-cont"\n                    >\n                        <span>\n                            {{ item.images.length }}\n                            <img src="/assets/guestInvi/bi_image-fill.svg" />\n                        </span>\n                        <img src="/assets/guestInvi/Frame-5602-1.png" alt="" />\n                        <span> {{ item.name }} </span>\n                    </div>\n                </div>\n                <div v-if="activeGallery == \'Albums\' && clickedAlbum.length > 0" class="album-pics">\n                    <div class="album-header">\n                        <button @click="clickedAlbum = []; albumName = null" class="btn btn-sm btn-secondary mb-3">\n                            ← Back to Albums\n                        </button>\n                        <h4>{{ albumName }}</h4>\n                    </div>\n                    <div\n                        v-for="single in clickedAlbum"\n                        :key="single.imageName"\n                        class="img-cont"\n                    >\n                        <img\n                            :src="\n                                \'/files/\' +\n                                invitations.id +\n                                \'/\' +\n                                single.imageName\n                            "\n                            alt=""\n                        />\n                    </div>\n                </div>\n                <div v-if="activeGallery == \'Videos\'">\n                    <form\n                        class="wed-image-form gallery_upload_form"\n                        @submit.prevent="sendVideos($event)"\n                    >\n                        <div class="p-3">\n                            <div class="row mb-2 p-2">\n                                <label for="video" class="form-label"\n                                    >Add Video</label\n                                >\n                                <input\n                                    type="file"\n                                    name="galleryVideo[]"\n                                    class="form-control form-control-sm"\n                                    id=""\n                                    multiple\n                                    accept="video/*"\n                                    @change="uploadVideos($event)"\n                                />\n                                <span\n                                    v-if="\n                                        errorsSubmit &&\n                                        errorsSubmit.galleryVideo\n                                    "\n                                    class="errMsg"\n                                    >{{ errorsSubmit.galleryVideo[0] }}</span\n                                >\n                                <div>{{ uploadMultiMessage }}</div>\n                            </div>\n                            <div class="row p-3">\n                                <button\n                                    type="submit"\n                                    :disabled="disablePictures"\n                                    class="btn btn-sm btn-primary"\n                                >\n                                    Upload Video\n                                </button>\n                            </div>\n                        </div>\n                    </form>\n                    <div\n                        v-for="(item, index) in allVideos"\n                        :key="index"\n                        class="img-cont"\n                    >\n                        <video controls>\n                            <source\n                                :src="\n                                    \'/videos/\' +\n                                    invitations.id +\n                                    \'/\' +\n                                    item.name\n                                "\n                            />\n                            Your browser does not support the video tag.\n                        </video>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <flashMessage :message="message"></flashMessage>\n    </div>\n</template>\n\n<script>\nimport flashMessage from "../FlashMessage.vue";\n\nexport default {\n    components: {\n        flashMessage,\n    },\n    props: ["albums", "galleries", "videos", "host", "invitations"],\n    data() {\n        return {\n            activeGallery: "Pictures",\n            clickedAlbum: [],\n            message: null,\n            uploadMultiImage: [],\n            uploadMultiMessage: null,\n            albumName: null,\n            allAlbums: this.albums,\n            allGalleries: this.galleries,\n            allVideos: this.videos,\n            disablePictures: false,\n            errorsSubmit: null,\n        };\n    },\n    computed: {\n        nonAlbumImages() {\n            // Filter out images that have an album\n            return this.allGalleries.filter(image => !image.album);\n        }\n    },\n    methods: {\n        uploadImages(e) {\n            const files = e.target.files;\n            const validFiles = [];\n            const invalidFiles = [];\n\n            // Check each file\n            for (let i = 0; i < files.length; i++) {\n                const file = files[i];\n\n                // Check file type\n                const fileType = file.type;\n                const validTypes = [\'image/jpeg\', \'image/png\', \'image/jpg\', \'image/gif\', \'image/svg+xml\'];\n\n                // Check file size (10MB = 10485760 bytes for albums, 512KB for pictures)\n                const fileSize = file.size;\n                const maxSize = this.activeGallery === \'Albums\' ? 10485760 : 524288;\n\n                if (validTypes.includes(fileType) && fileSize <= maxSize) {\n                    validFiles.push(file);\n                } else {\n                    invalidFiles.push({\n                        name: file.name,\n                        reason: !validTypes.includes(fileType) ? \'Invalid file type\' : \'File too large\'\n                    });\n                }\n            }\n\n            // Update the component state\n            this.uploadMultiImage = validFiles;\n\n            if (invalidFiles.length > 0) {\n                const reasons = invalidFiles.map(f => `${f.name}: ${f.reason}`).join(\', \');\n                this.uploadMultiMessage = `${validFiles.length} valid files. Skipped: ${reasons}`;\n            } else {\n                this.uploadMultiMessage = validFiles.length > 0 ?\n                    `${validFiles.length} Files Selected!` :\n                    \'No valid files selected\';\n            }\n\n            // Disable the submit button if no valid files\n            this.disablePictures = validFiles.length === 0;\n        },\n        uploadVideos(e) {\n            const files = e.target.files;\n            const validFiles = [];\n            const invalidFiles = [];\n            \n            for (let i = 0; i < files.length; i++) {\n                const file = files[i];\n                const fileType = file.type;\n                const validTypes = [\'video/mp4\', \'video/avi\', \'video/mpeg\', \'video/quicktime\', \'video/webm\', \'video/ogg\'];\n                \n                if (validTypes.includes(fileType) && file.size <= 10485760) {\n                    validFiles.push(file);\n                } else {\n                    invalidFiles.push({\n                        name: file.name,\n                        reason: !validTypes.includes(fileType) ? \'Invalid file type\' : \'File too large (max 10MB)\'\n                    });\n                }\n            }\n\n            // Update the component state\n            this.uploadMultiImage = validFiles;\n\n            if (invalidFiles.length > 0) {\n                const reasons = invalidFiles.map(f => `${f.name}: ${f.reason}`).join(\', \');\n                this.uploadMultiMessage = `${validFiles.length} valid files. Skipped: ${reasons}`;\n            } else {\n                this.uploadMultiMessage = validFiles.length > 0 ?\n                    `${validFiles.length} Videos Selected!` :\n                    \'No valid files selected\';\n            }\n\n            // Disable the submit button if no valid files\n            this.disablePictures = validFiles.length === 0;\n        },\n        createAlbum(e) {\n            // This is essentially the same as sendPictures but specifically for album creation\n            let _this = this;\n            _this.disablePictures = true;\n            _this.errorsSubmit = null;\n            let formData = new FormData();\n            \n            formData.append("album", _this.albumName);\n            let images = null;\n            if (_this.uploadMultiImage.length > 0) {\n                images = [..._this.uploadMultiImage];\n                images.forEach(function (item, index) {\n                    formData.append("galleryImage[" + index + "]", item);\n                });\n            }\n            \n            axios({\n                method: "POST",\n                url: route("addAlbum", _this.host),\n                data: formData,\n                headers: { "content-type": "multipart/form-data" },\n            })\n                .then((response) => {\n                    _this.allAlbums = response.data[0];\n                    _this.allGalleries = response.data[1];\n                    _this.allVideos = response.data[2];\n                    _this.message = "Album Created Successfully!";\n                    _this.uploadMultiMessage = null;\n                    _this.uploadMultiImage = [];\n                    _this.albumName = null;\n                    _this.disablePictures = false;\n                    setTimeout(function () {\n                        _this.message = null;\n                    }, 3000);\n                })\n                .catch((error) => {\n                    _this.disablePictures = false;\n                    _this.errorsSubmit = {\n                        galleryImage: Object.values(\n                            error.response.data?.errors\n                        )[0],\n                    };\n                });\n        },\n        sendPictures(e) {\n            let _this = this;\n            _this.disablePictures = true;\n            _this.errorsSubmit = null;\n            let formData = new FormData();\n            let link = null;\n\n            if (_this.activeGallery == "Pictures") {\n                let images = null;\n                if (_this.uploadMultiImage.length > 0) {\n                    images = [..._this.uploadMultiImage];\n                    images.forEach(function (item, index) {\n                        formData.append("galleryImage[" + index + "]", item);\n                    });\n                }\n                // Don\'t send albumId for Pictures section\n                // The controller will handle it as NULL\n                link = route("hostgallery.store", _this.host);\n            }\n\n            let meth = "POST";\n\n            // Debug the form data before sending\n            console.log("Form data contents:");\n            for (let pair of formData.entries()) {\n                console.log(pair[0] + \': \' + (pair[1] instanceof File ?\n                    `File: ${pair[1].name}, size: ${pair[1].size}` : pair[1]));\n            }\n\n            axios({\n                method: meth,\n                url: link,\n                data: formData,\n                headers: { "content-type": "multipart/form-data" },\n            })\n                .then((response) => {\n                    _this.allAlbums = response.data[0];\n                    _this.allGalleries = response.data[1];\n                    _this.allVideos = response.data[2];\n                    _this.message = "Images Uploaded Successfully!";\n                    _this.uploadMultiMessage = null;\n                    _this.uploadMultiImage = [];\n                    _this.disablePictures = false;\n                    setTimeout(function () {\n                        _this.message = null;\n                    }, 3000);\n                })\n                .catch((error) => {\n                    _this.disablePictures = false;\n                    _this.handleUploadError(error, "Pictures");\n                });\n        },\n        sendVideos(e) {\n            let _this = this;\n            _this.disablePictures = true;\n            _this.errorsSubmit = null;\n            let formData = new FormData();\n            \n            if (_this.uploadMultiImage.length > 0) {\n                let videos = [..._this.uploadMultiImage];\n                videos.forEach(function (item, index) {\n                    formData.append("galleryVideo[" + index + "]", item);\n                });\n            }\n            let link = route("hostvideoUpload", _this.host);\n            let meth = "POST";\n\n            // Debug the form data before sending\n            console.log("Video form data contents:");\n            for (let pair of formData.entries()) {\n                console.log(pair[0] + \': \' + (pair[1] instanceof File ?\n                    `File: ${pair[1].name}, size: ${pair[1].size}` : pair[1]));\n            }\n\n            axios({\n                method: meth,\n                url: link,\n                data: formData,\n                headers: { "content-type": "multipart/form-data" },\n            })\n                .then((response) => {\n                    _this.allAlbums = response.data[0];\n                    _this.allGalleries = response.data[1];\n                    _this.allVideos = response.data[2];\n                    _this.message = "Videos Uploaded Successfully!";\n                    _this.uploadMultiMessage = null;\n                    _this.uploadMultiImage = [];\n                    _this.disablePictures = false;\n                    setTimeout(function () {\n                        _this.message = null;\n                    }, 3000);\n                })\n                .catch((error) => {\n                    _this.disablePictures = false;\n                    _this.handleUploadError(error, "Videos");\n                });\n        },\n        handleUploadError(error, type) {\n            let _this = this;\n            // Log the full error for debugging\n            console.error("Full error response:", error.response);\n\n            // For 500 errors, show a more helpful message\n            if (error.response && error.response.status === 500) {\n                _this.message = "Server error occurred. Please check with administrator.";\n                console.error("Server error details:", error.response.data);\n\n                // You could also add a more specific message based on common issues\n                if (error.response.data && error.response.data.message) {\n                    if (error.response.data.message.includes("Permission denied")) {\n                        _this.message = "Server error: Permission denied when saving files.";\n                    } else if (error.response.data.message.includes("No such file or directory")) {\n                        _this.message = "Server error: Upload directory does not exist.";\n                    }\n                }\n            } else {\n                // Handle validation errors as before\n                console.error("Validation errors:", error.response?.data?.errors);\n\n                if (type == "Pictures") {\n                    if (error.response && error.response.data && error.response.data.errors) {\n                        // Get the first error message from each field\n                        const errorMessages = {};\n                        Object.keys(error.response.data.errors).forEach(field => {\n                            errorMessages[field] = error.response.data.errors[field][0];\n                        });\n                        console.log("Validation error messages:", errorMessages);\n\n                        _this.errorsSubmit = {\n                            galleryImage: errorMessages.galleryImage || ["Unknown validation error"]\n                        };\n                    } else {\n                        _this.errorsSubmit = {\n                            galleryImage: ["An error occurred while uploading images"]\n                        };\n                    }\n                }\n                if (type == "Videos") {\n                    _this.errorsSubmit = {\n                        galleryVideo: error.response && error.response.data && error.response.data.errors\n                            ? Object.values(error.response.data.errors)[0]\n                            : ["An error occurred while uploading videos"]\n                    };\n                }\n            }\n\n            setTimeout(function () {\n                _this.message = null;\n            }, 5000);\n        },\n    },\n};\n<\/script>\n\n<style scoped>\n/* Gallery all css start */\n.wed-host-gallery {\n    background-color: white;\n    margin-top: 2em;\n    padding: 10px 0;\n}\n\n.wed-host-gallery > div:nth-child(1) {\n    display: flex;\n    justify-content: center;\n}\n\n.wed-host-gallery-active {\n    font-weight: bold !important;\n    color: #7f004b !important;\n    border-bottom: 4px solid #7f004b !important;\n}\n\n.wed-host-gallery > div:nth-child(1) > div {\n    font-family: Roboto;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 17.8211px;\n    line-height: 21px;\n    color: #968585;\n    flex: 1;\n    text-align: center;\n    padding: 2em 0;\n    border-right: 0.891053px solid #cbc7c7;\n    border-bottom: 0.891053px solid #cbc7c7;\n    cursor: pointer;\n}\n.wed-host-gallery > div:nth-child(1) > div:last-child {\n    border-right: none;\n}\n.wed-host-gallery-items {\n    padding-bottom: 1em;\n}\n.wed-host-gallery-items > div {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n    grid-auto-rows: max-content;\n    padding: 1em;\n    grid-column-gap: 1em;\n    grid-row-gap: 1.5em;\n}\n.img-cont,\n.album-cont {\n    position: relative;\n    padding-top: 100%;\n    border-radius: 20px;\n}\n.img-cont > img,\n.img-cont > video,\n.album-cont > img {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    border-radius: 20px;\n    z-index: 99;\n}\n.album-cont > span:nth-child(1) {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    z-index: 999;\n    font-family: "Roboto";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 19px;\n    color: #ffffff;\n}\n.album-cont > span:nth-child(3) {\n    position: absolute;\n    bottom: 15px;\n    left: 15px;\n    z-index: 999;\n    font-family: "Roboto";\n    font-style: normal;\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 18px;\n    color: #ffffff;\n}\n.album-pics {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n    grid-auto-rows: max-content;\n    padding: 1em;\n    grid-column-gap: 1em;\n    grid-row-gap: 1.5em;\n}\n\n.album-header {\n    grid-column: 1 / -1;\n    margin-bottom: 1em;\n}\n\n.album-header h4 {\n    margin: 0;\n    color: #7f004b;\n    font-weight: bold;\n}\n/* .album-pics.active {\n    display: grid !important;\n}\n.album-cont.active {\n    display: none !important;\n} */\n\n/* Gallery all css end */\n.wed-image-form {\n    grid-column-start: 1;\n    grid-column-end: 3;\n}\n\n.gallery_upload_form {\n    background: rgba(226, 226, 226, 0.6);\n    backdrop-filter: blur(4px);\n    border-radius: 17.8211px;\n    height: max-content;\n}\n\n.gallery_album_form {\n    background: rgba(226, 226, 226, 0.6);\n    backdrop-filter: blur(4px);\n    border-radius: 17.8211px;\n}\n\n/* .gallery_upload_form>input {\n            display:none;\n        } */\n\n.gallery_upload_form1 > label {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n    flex-direction: column;\n}\n\n.gallery_upload_form1 > label > span {\n    align-self: center;\n}\n\n.gallery_upload_form > label {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n    flex-direction: column;\n}\n\n.gallery_upload_form > label > span {\n    align-self: center;\n}\n@media screen and (max-width: 769px) {\n    .wed-host-gallery {\n        padding: 14px 0 !important;\n    }\n}\n@media screen and (max-width: 576px) {\n    .wed-host-gallery-items > div {\n        display: grid;\n        grid-template-columns: repeat(2, 1fr) !important;\n        grid-auto-rows: max-content;\n        padding: 1em;\n        grid-column-gap: 1em;\n        grid-row-gap: 1.5em;\n    }\n}\n</style>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n'],sourceRoot:""}]);const r=l},92394:(e,n,a)=>{a.r(n),a.d(n,{default:()=>o});const t={name:"flashMessage",props:["message"],data:function(){return{show:!1}},methods:{},mounted:function(){var e=this;setTimeout((function(){e.show=!1}),3e3)},computed:{alert:function(){return this.show=!0,this.message}}};var i=a(93379),s=a.n(i),l=a(16424),r={insert:"head",singleton:!1};s()(l.Z,r);l.Z.locals;const o=(0,a(51900).Z)(t,(function(){var e=this,n=e._self._c;return n("Transition",[e.alert&&e.show?n("div",{staticStyle:{"background-color":"#d7f3e3",border:"1px solid #c3ecd5","border-radius":"0.25rem",padding:"1em","padding-right":"2em",color:"#227444","min-width":"150px",width:"max-content",position:"fixed",bottom:"70px",right:"30px","z-index":"999999999999999999999"}},[e._v("\n        "+e._s(e.alert)+"\n        "),n("span",{staticStyle:{color:"black","margin-right":"-10px",padding:"10px","font-size":"20px",cursor:"pointer"},on:{click:function(n){e.show=!1}}},[e._v("×")])]):e._e()])}),[],!1,null,"2a7c6db1",null).exports},15746:(e,n,a)=>{a.r(n),a.d(n,{default:()=>u});function t(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=s(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){o=!0,l=e},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw l}}}}function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){if(e){if("string"==typeof e)return l(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,n):void 0}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}const r={components:{flashMessage:a(92394).default},props:["albums","galleries","videos","host","invitations"],data:function(){return{activeGallery:"Pictures",clickedAlbum:[],message:null,uploadMultiImage:[],uploadMultiMessage:null,albumName:null,allAlbums:this.albums,allGalleries:this.galleries,allVideos:this.videos,disablePictures:!1,errorsSubmit:null}},computed:{nonAlbumImages:function(){return this.allGalleries.filter((function(e){return!e.album}))}},methods:{uploadImages:function(e){for(var n=e.target.files,a=[],t=[],i=0;i<n.length;i++){var s=n[i],l=s.type,r=["image/jpeg","image/png","image/jpg","image/gif","image/svg+xml"],o=s.size,d="Albums"===this.activeGallery?10485760:524288;r.includes(l)&&o<=d?a.push(s):t.push({name:s.name,reason:r.includes(l)?"File too large":"Invalid file type"})}if(this.uploadMultiImage=a,t.length>0){var m=t.map((function(e){return"".concat(e.name,": ").concat(e.reason)})).join(", ");this.uploadMultiMessage="".concat(a.length," valid files. Skipped: ").concat(m)}else this.uploadMultiMessage=a.length>0?"".concat(a.length," Files Selected!"):"No valid files selected";this.disablePictures=0===a.length},uploadVideos:function(e){for(var n=e.target.files,a=[],t=[],i=0;i<n.length;i++){var s=n[i],l=s.type,r=["video/mp4","video/avi","video/mpeg","video/quicktime","video/webm","video/ogg"];r.includes(l)&&s.size<=10485760?a.push(s):t.push({name:s.name,reason:r.includes(l)?"File too large (max 10MB)":"Invalid file type"})}if(this.uploadMultiImage=a,t.length>0){var o=t.map((function(e){return"".concat(e.name,": ").concat(e.reason)})).join(", ");this.uploadMultiMessage="".concat(a.length," valid files. Skipped: ").concat(o)}else this.uploadMultiMessage=a.length>0?"".concat(a.length," Videos Selected!"):"No valid files selected";this.disablePictures=0===a.length},createAlbum:function(e){var n=this;n.disablePictures=!0,n.errorsSubmit=null;var a=new FormData;a.append("album",n.albumName);n.uploadMultiImage.length>0&&i(n.uploadMultiImage).forEach((function(e,n){a.append("galleryImage["+n+"]",e)})),axios({method:"POST",url:route("addAlbum",n.host),data:a,headers:{"content-type":"multipart/form-data"}}).then((function(e){n.allAlbums=e.data[0],n.allGalleries=e.data[1],n.allVideos=e.data[2],n.message="Album Created Successfully!",n.uploadMultiMessage=null,n.uploadMultiImage=[],n.albumName=null,n.disablePictures=!1,setTimeout((function(){n.message=null}),3e3)})).catch((function(e){var a;n.disablePictures=!1,n.errorsSubmit={galleryImage:Object.values(null===(a=e.response.data)||void 0===a?void 0:a.errors)[0]}}))},sendPictures:function(e){var n=this;n.disablePictures=!0,n.errorsSubmit=null;var a=new FormData,s=null;if("Pictures"==n.activeGallery){n.uploadMultiImage.length>0&&i(n.uploadMultiImage).forEach((function(e,n){a.append("galleryImage["+n+"]",e)})),s=route("hostgallery.store",n.host)}console.log("Form data contents:");var l,r=t(a.entries());try{for(r.s();!(l=r.n()).done;){var o=l.value;console.log(o[0]+": "+(o[1]instanceof File?"File: ".concat(o[1].name,", size: ").concat(o[1].size):o[1]))}}catch(e){r.e(e)}finally{r.f()}axios({method:"POST",url:s,data:a,headers:{"content-type":"multipart/form-data"}}).then((function(e){n.allAlbums=e.data[0],n.allGalleries=e.data[1],n.allVideos=e.data[2],n.message="Images Uploaded Successfully!",n.uploadMultiMessage=null,n.uploadMultiImage=[],n.disablePictures=!1,setTimeout((function(){n.message=null}),3e3)})).catch((function(e){n.disablePictures=!1,n.handleUploadError(e,"Pictures")}))},sendVideos:function(e){var n=this;n.disablePictures=!0,n.errorsSubmit=null;var a=new FormData;n.uploadMultiImage.length>0&&i(n.uploadMultiImage).forEach((function(e,n){a.append("galleryVideo["+n+"]",e)}));var s=route("hostvideoUpload",n.host);console.log("Video form data contents:");var l,r=t(a.entries());try{for(r.s();!(l=r.n()).done;){var o=l.value;console.log(o[0]+": "+(o[1]instanceof File?"File: ".concat(o[1].name,", size: ").concat(o[1].size):o[1]))}}catch(e){r.e(e)}finally{r.f()}axios({method:"POST",url:s,data:a,headers:{"content-type":"multipart/form-data"}}).then((function(e){n.allAlbums=e.data[0],n.allGalleries=e.data[1],n.allVideos=e.data[2],n.message="Videos Uploaded Successfully!",n.uploadMultiMessage=null,n.uploadMultiImage=[],n.disablePictures=!1,setTimeout((function(){n.message=null}),3e3)})).catch((function(e){n.disablePictures=!1,n.handleUploadError(e,"Videos")}))},handleUploadError:function(e,n){var a=this;if(console.error("Full error response:",e.response),e.response&&500===e.response.status)a.message="Server error occurred. Please check with administrator.",console.error("Server error details:",e.response.data),e.response.data&&e.response.data.message&&(e.response.data.message.includes("Permission denied")?a.message="Server error: Permission denied when saving files.":e.response.data.message.includes("No such file or directory")&&(a.message="Server error: Upload directory does not exist."));else{var t,i;if(console.error("Validation errors:",null===(t=e.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.errors),"Pictures"==n)if(e.response&&e.response.data&&e.response.data.errors){var s={};Object.keys(e.response.data.errors).forEach((function(n){s[n]=e.response.data.errors[n][0]})),console.log("Validation error messages:",s),a.errorsSubmit={galleryImage:s.galleryImage||["Unknown validation error"]}}else a.errorsSubmit={galleryImage:["An error occurred while uploading images"]};"Videos"==n&&(a.errorsSubmit={galleryVideo:e.response&&e.response.data&&e.response.data.errors?Object.values(e.response.data.errors)[0]:["An error occurred while uploading videos"]})}setTimeout((function(){a.message=null}),5e3)}}};var o=a(93379),d=a.n(o),m=a(65045),c={insert:"head",singleton:!1};d()(m.Z,c);m.Z.locals;const u=(0,a(51900).Z)(r,(function(){var e=this,n=e._self._c;return n("div",[n("div",{staticClass:"gallery-all-cont wed-host-gallery container-md"},[n("div",[n("div",{class:{"wed-host-gallery-active":"Pictures"==e.activeGallery},on:{click:function(n){e.activeGallery="Pictures",e.clickedAlbum=[]}}},[e._v("\n                Pictures\n            ")]),e._v(" "),n("div",{class:{"wed-host-gallery-active":"Albums"==e.activeGallery},on:{click:function(n){e.activeGallery="Albums",e.clickedAlbum=[]}}},[e._v("\n                Albums\n            ")]),e._v(" "),n("div",{class:{"wed-host-gallery-active":"Videos"==e.activeGallery},on:{click:function(n){e.activeGallery="Videos",e.clickedAlbum=[]}}},[e._v("\n                Videos\n            ")])]),e._v(" "),n("div",{staticClass:"wed-host-gallery-items"},["Pictures"==e.activeGallery?n("div",[n("form",{staticClass:"wed-image-form gallery_upload_form",on:{submit:function(n){return n.preventDefault(),e.sendPictures(n)}}},[n("div",{staticClass:"p-3"},[n("div",{staticClass:"row mb-2 p-2"},[n("label",{staticClass:"form-label",attrs:{for:"image"}},[e._v("Add Images")]),e._v(" "),n("input",{staticClass:"form-control form-control-sm",attrs:{type:"file",name:"galleryImage[]",id:"",multiple:""},on:{change:function(n){return e.uploadImages(n)}}}),e._v(" "),e.errorsSubmit&&e.errorsSubmit.galleryImage?n("span",{staticClass:"errMsg"},[e._v(e._s(e.errorsSubmit.galleryImage[0]))]):e._e(),e._v(" "),n("div",[e._v(e._s(e.uploadMultiMessage))])]),e._v(" "),n("div",{staticClass:"row p-3"},[n("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit",disabled:e.disablePictures}},[e._v("\n                                Upload Images\n                            ")])])])]),e._v(" "),e._l(e.nonAlbumImages,(function(a,t){return n("div",{key:t,staticClass:"img-cont"},[n("img",{attrs:{src:"/files/"+e.invitations.id+"/"+a.imageName,alt:""}})])}))],2):e._e(),e._v(" "),"Albums"==e.activeGallery&&0==e.clickedAlbum.length?n("div",{attrs:{id:"all-albums"}},[n("form",{staticClass:"wed-image-form gallery_upload_form",on:{submit:function(n){return n.preventDefault(),e.createAlbum(n)}}},[n("div",{staticClass:"p-3"},[n("div",{staticClass:"row p-2"},[n("label",{staticClass:"form-label",attrs:{for:"album"}},[e._v("\n                                Album Name")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.albumName,expression:"albumName"}],staticClass:"form-control",attrs:{type:"text",name:"album",required:""},domProps:{value:e.albumName},on:{input:function(n){n.target.composing||(e.albumName=n.target.value)}}})]),e._v(" "),n("div",{staticClass:"row mb-2 p-2"},[n("label",{staticClass:"form-label",attrs:{for:"image"}},[e._v("Add Images")]),e._v(" "),n("input",{staticClass:"form-control form-control-sm",attrs:{type:"file",name:"galleryImage[]",id:"",multiple:"",accept:"image/*"},on:{change:function(n){return e.uploadImages(n)}}}),e._v(" "),e.errorsSubmit&&e.errorsSubmit.galleryImage?n("span",{staticClass:"errMsg"},[e._v(e._s(e.errorsSubmit.galleryImage[0]))]):e._e(),e._v(" "),n("div",[e._v(e._s(e.uploadMultiMessage))])]),e._v(" "),n("div",{staticClass:"row p-3"},[n("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit",disabled:e.disablePictures}},[e._v("\n                                Create Album\n                            ")])])])]),e._v(" "),e._l(e.allAlbums,(function(a,t){return n("div",{key:t,staticClass:"album-cont",on:{click:function(n){e.clickedAlbum=a.images,e.albumName=a.name}}},[n("span",[e._v("\n                        "+e._s(a.images.length)+"\n                        "),n("img",{attrs:{src:"/assets/guestInvi/bi_image-fill.svg"}})]),e._v(" "),n("img",{attrs:{src:"/assets/guestInvi/Frame-5602-1.png",alt:""}}),e._v(" "),n("span",[e._v(" "+e._s(a.name)+" ")])])}))],2):e._e(),e._v(" "),"Albums"==e.activeGallery&&e.clickedAlbum.length>0?n("div",{staticClass:"album-pics"},[n("div",{staticClass:"album-header"},[n("button",{staticClass:"btn btn-sm btn-secondary mb-3",on:{click:function(n){e.clickedAlbum=[],e.albumName=null}}},[e._v("\n                        ← Back to Albums\n                    ")]),e._v(" "),n("h4",[e._v(e._s(e.albumName))])]),e._v(" "),e._l(e.clickedAlbum,(function(a){return n("div",{key:a.imageName,staticClass:"img-cont"},[n("img",{attrs:{src:"/files/"+e.invitations.id+"/"+a.imageName,alt:""}})])}))],2):e._e(),e._v(" "),"Videos"==e.activeGallery?n("div",[n("form",{staticClass:"wed-image-form gallery_upload_form",on:{submit:function(n){return n.preventDefault(),e.sendVideos(n)}}},[n("div",{staticClass:"p-3"},[n("div",{staticClass:"row mb-2 p-2"},[n("label",{staticClass:"form-label",attrs:{for:"video"}},[e._v("Add Video")]),e._v(" "),n("input",{staticClass:"form-control form-control-sm",attrs:{type:"file",name:"galleryVideo[]",id:"",multiple:"",accept:"video/*"},on:{change:function(n){return e.uploadVideos(n)}}}),e._v(" "),e.errorsSubmit&&e.errorsSubmit.galleryVideo?n("span",{staticClass:"errMsg"},[e._v(e._s(e.errorsSubmit.galleryVideo[0]))]):e._e(),e._v(" "),n("div",[e._v(e._s(e.uploadMultiMessage))])]),e._v(" "),n("div",{staticClass:"row p-3"},[n("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit",disabled:e.disablePictures}},[e._v("\n                                Upload Video\n                            ")])])])]),e._v(" "),e._l(e.allVideos,(function(a,t){return n("div",{key:t,staticClass:"img-cont"},[n("video",{attrs:{controls:""}},[n("source",{attrs:{src:"/videos/"+e.invitations.id+"/"+a.name}}),e._v("\n                        Your browser does not support the video tag.\n                    ")])])}))],2):e._e()])]),e._v(" "),n("flashMessage",{attrs:{message:e.message}})],1)}),[],!1,null,"13ff9bbe",null).exports}}]);
//# sourceMappingURL=5746.js.map