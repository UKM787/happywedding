"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3495,5808],{16424:(n,e,t)=>{t.d(e,{Z:()=>r});var a=t(94015),i=t.n(a),o=t(23645),s=t.n(o)()(i());s.push([n.id,".v-enter-active[data-v-2a7c6db1],.v-leave-active[data-v-2a7c6db1]{transition:opacity .15s linear}.v-enter-from[data-v-2a7c6db1],.v-leave-to[data-v-2a7c6db1]{opacity:0}","",{version:3,sources:["webpack://./resources/js/components/FlashMessage.vue"],names:[],mappings:"AA4EA,kEAEA,8BACA,CACA,4DAEA,SACA",sourcesContent:['<template>\n    <Transition>\n        <div\n            v-if="alert && show"\n            style="\n                background-color: #d7f3e3;\n                border: 1px solid #c3ecd5;\n                border-radius: 0.25rem;\n                padding: 10px;\n                padding-right: 2em;\n                color: #227444;\n                min-width: 150px;\n                width: max-content;\n                position: fixed;\n                bottom: 70px;\n                right: 30px;\n                padding: 1em;\n                z-index: 999999999999999999999;\n            "\n        >\n            {{ alert }}\n            <span\n                @click="show = false"\n                style="\n                    color: black;\n                    margin-right: -10px;\n                    padding: 10px;\n                    font-size: 20px;\n                    cursor: pointer;\n                "\n                >Ã—</span\n            >\n        </div>\n    </Transition>\n</template>\n\n<script>\nexport default {\n    name: "flashMessage",\n    props: ["message"],\n    data() {\n        return {\n            show: false,\n        };\n    },\n    methods: {},\n    mounted() {\n        let _this = this;\n        setTimeout(function () {\n            _this.show = false;\n        }, 3000);\n    },\n    // created: function () {\n    //     let _this = this;\n    //     setTimeout(function () {\n    //         _this.show = false;\n    //         console.log(_this.show, "created");\n    //     }, 3000);\n    // },\n    computed: {\n        alert: function () {\n            this.show = true;\n            return this.message;\n        },\n    },\n    // watch: {\n    //     message(newValue) {\n    //         setTimeout(function () {\n    //             this.show = false;\n    //         }, 3000);\n    //     },\n    // },\n};\n<\/script>\n\n<style scoped>\n.v-enter-active,\n.v-leave-active {\n    transition: opacity 0.15s linear;\n}\n.v-enter-from,\n.v-leave-to {\n    opacity: 0;\n}\n</style>\n'],sourceRoot:""}]);const r=s},46915:(n,e,t)=>{t.d(e,{Z:()=>r});var a=t(94015),i=t.n(a),o=t(23645),s=t.n(o)()(i());s.push([n.id,'.heading[data-v-03fe498c],.save-date-form>h1[data-v-03fe498c]{color:#9e3e5e;font-family:Perpetua;font-size:30px;font-style:normal;font-weight:700;line-height:34px;text-align:center;width:100%}.save-date-form>h3[data-v-03fe498c]{color:#000;font-family:Poppins;font-size:16px;font-style:normal;font-weight:300;line-height:24px;text-align:center;width:100%}.drag-drop-cont[data-v-03fe498c]{align-items:center;background:linear-gradient(180deg,#fafcff,#f1f6ff);border:2px dashed #c8c3c3;display:flex;flex-direction:column;justify-content:center;margin:auto;max-width:493px;padding:28px;width:100%}.drag-drop-cont>img[data-v-03fe498c]{height:34px;margin-bottom:15px;width:41px}.drag-drop-cont>h5[data-v-03fe498c]{color:#8b8b8b;font-family:Poppins;font-size:12.1302px;font-style:normal;font-weight:500;line-height:18px}.drag-drop-cont>span[data-v-03fe498c]{color:#c8c3c3;font-family:Montserrat;font-size:9.79749px;font-style:normal;font-weight:500;line-height:12px}.drag-drop-cont>button[data-v-03fe498c]{background:#dcdcdb;border:none;border-radius:4.47811px;color:#747474;font-family:Poppins;font-size:10.2347px;font-style:normal;font-weight:400;line-height:15px;margin-top:10px;outline:none;padding:10px 19px;text-align:center}.drag-drop-cont>input[data-v-03fe498c]{display:none}.save-date-submit-cont[data-v-03fe498c]{margin:48px 0;text-align:center;width:100%}.save-date-submit-cont>button[data-v-03fe498c]{background:#c4456f;border:none;border-radius:7.72px;color:#fff;font-family:Poppins;font-size:13px;font-style:normal;font-weight:600;line-height:20px;outline:none;padding:11px 82px;text-align:center}.save-date-form>.errMsg[data-v-03fe498c]{display:block;margin-top:12px;text-align:center}.guest-banner-cont[data-v-03fe498c]{height:100%;padding-top:55%;position:relative;top:0;width:100%}.guest-banner-cont>img[data-v-03fe498c]:first-child{height:100%;-o-object-fit:cover;object-fit:cover;position:absolute;top:0;width:100%}.guest-banner-cont>.overlay[data-v-03fe498c]{background:rgba(0,0,0,.5);height:100%;position:absolute;top:0;width:100%;z-index:999}.guest-banner-cont>div[data-v-03fe498c]:nth-child(4){cursor:pointer;position:absolute;right:15px;top:15px;z-index:99999}.guest-banner-content[data-v-03fe498c]{align-items:center;display:flex;flex-direction:column;justify-content:center;margin:auto;position:absolute;text-align:center;top:3%;width:100%;z-index:9999}.guest-banner-accept>button[data-v-03fe498c]{font-family:Segoe UI;font-size:13.052px;font-style:normal;font-weight:700;line-height:17px;padding:13px 38px;text-transform:uppercase}.guest-banner-accept>button[data-v-03fe498c]:first-child{background:rgba(196,69,111,.5);border:1.12998px solid #c4456f;border-radius:6.81176px;color:#fff;margin-right:15px;outline:none}.guest-banner-accept>button[data-v-03fe498c]:nth-child(2){background:rgba(72,72,72,.2);border:1.12998px solid #696969;border-radius:6.81176px;color:#fff;outline:none}.guest-banner-couple-name[data-v-03fe498c]{margin-top:2em}.guest-banner-couple-name>span[data-v-03fe498c]{color:#fff;font-family:STSong;font-size:29.2084px;font-style:normal;font-weight:400;line-height:38px;text-transform:uppercase}.guest-banner-couple-name>span[data-v-03fe498c]:nth-child(2){color:#fff;font-family:Stalemate;font-size:53.1063px;font-style:normal;font-weight:400;line-height:78px;margin:0 20px;text-transform:none}.guest-banner-venue-date[data-v-03fe498c]{color:#fff;display:flex;flex-wrap:nowrap;font-family:Poppins;font-size:16px;font-style:normal;font-weight:500;line-height:24px;position:relative;text-transform:capitalize}.guest-banner-venue-date>span[data-v-03fe498c]{align-items:center;display:flex;justify-content:center;position:relative}.guest-banner-venue-date>span[data-v-03fe498c]:nth-child(2){margin:0 7px}.guest-banner-venue-date>span[data-v-03fe498c]:first-child:after,.guest-banner-venue-date>span[data-v-03fe498c]:nth-child(3):before{background:#fff;content:"";display:inline-block;height:2px;position:relative;right:0;top:-1px;width:50px;z-index:99999}.guest-banner-timer[data-v-03fe498c]{display:flex;margin:42px auto}.guest-banner-timer-single[data-v-03fe498c]{background:hsla(0,0%,100%,.3);box-shadow:0 0 4px 1px rgba(0,0,0,.25);display:flex;flex-direction:column;height:76px;justify-content:center;margin-right:12px;padding:12px;width:76px}.guest-banner-timer[data-v-03fe498c]:last-child{margin-right:0}.guest-banner-timer-single>span[data-v-03fe498c]:first-child{color:#fff;display:block;font-family:Perpetua;font-size:44.083px;font-style:normal;font-weight:400;line-height:51px;text-align:center}.guest-banner-timer-single>span[data-v-03fe498c]:nth-child(2){color:#fff;display:block;font-family:Segoe UI;font-size:7.62142px;font-style:normal;font-weight:400;line-height:10px;text-align:center}.guest-banner-slogan>div[data-v-03fe498c]:first-child{color:#fff;font-family:Poppins;font-size:24.7422px;font-style:normal;font-weight:400;line-height:37px;text-align:center;text-transform:capitalize}.guest-banner-slogan>div[data-v-03fe498c]:nth-child(2){color:#dfdfdf;font-family:Poppins;font-size:14.8453px;font-style:normal;font-weight:400;line-height:22px;text-align:center;text-transform:lowercase}@media screen and (max-width:1600px){.guest-banner-cont[data-v-03fe498c]{padding-top:50%}}@media screen and (max-width:1300px){.guest-banner-cont[data-v-03fe498c]{padding-top:60%}}@media screen and (max-width:1200px){.guest-banner-cont[data-v-03fe498c]{padding-top:70%}}@media screen and (max-width:991px){.guest-banner-cont[data-v-03fe498c]{padding-top:80%}.guest-banner-timer[data-v-03fe498c]{margin:22px auto}.guest-banner-timer-single[data-v-03fe498c]{height:76px;width:76px}.guest-banner-content[data-v-03fe498c]{top:3%}.wed-host-section-container[data-v-03fe498c]{padding:4em 0 6em!important}}@media screen and (max-width:768px){.guest-banner-cont[data-v-03fe498c]{padding-top:100%}.guest-banner-couple-name[data-v-03fe498c]{margin-top:1px}.guest-banner-cont[data-v-03fe498c]{padding-top:83%}}@media screen and (max-width:576px){.guest-banner-couple-name>span[data-v-03fe498c]{font-size:18.2232px;font-weight:400;line-height:24px}.guest-banner-couple-name>span[data-v-03fe498c]:nth-child(2){font-size:33.1331px;font-weight:400;line-height:49px}.guest-banner-venue-date[data-v-03fe498c]{font-size:10px;font-weight:500;line-height:15px}.guest-banner-timer-single>span[data-v-03fe498c]:first-child{font-size:35.2648px;font-weight:400;line-height:40px}.guest-banner-timer-single[data-v-03fe498c]{height:65px;padding:0;width:66px}.guest-banner-slogan>div[data-v-03fe498c]:first-child{font-size:10.6195px;font-weight:400;line-height:16px}.guest-banner-slogan>div[data-v-03fe498c]:nth-child(2){font-size:6.37168px;font-weight:400;line-height:10px}.guest-banner-content[data-v-03fe498c]{top:8%}.wed-host-section-container[data-v-03fe498c]{padding:4em 0!important}}.save-date-image[data-v-03fe498c]{height:auto;max-width:100%;-o-object-fit:cover;object-fit:cover}.debug-info[data-v-03fe498c]{background-color:#f8f9fa;border:1px solid #ddd;border-radius:4px;font-family:monospace;margin-top:20px;padding:10px}',"",{version:3,sources:["webpack://./resources/js/components/host/invitation/InvitationSavedate.vue"],names:[],mappings:"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eACA,CACA,CACA,qCACA,oCACA,eACA,CACA,CACA,qCACA,oCACA,eACA,CACA,CACA,oCACA,oCACA,eACA,CACA,qCACA,gBACA,CACA,4CAEA,WAAA,CADA,UAEA,CAKA,uCACA,MACA,CACA,6CAEA,2BACA,CACA,CACA,oCACA,oCACA,gBACA,CACA,2CACA,cACA,CACA,oCACA,eACA,CACA,CACA,oCACA,gDAEA,mBAAA,CADA,eAAA,CAEA,gBACA,CACA,6DAEA,mBAAA,CADA,eAAA,CAEA,gBACA,CACA,0CAEA,cAAA,CADA,eAAA,CAEA,gBACA,CACA,6DAEA,mBAAA,CADA,eAAA,CAEA,gBACA,CACA,4CAEA,WAAA,CACA,SAAA,CAFA,UAGA,CACA,sDAEA,mBAAA,CADA,eAAA,CAEA,gBACA,CACA,uDAEA,mBAAA,CADA,eAAA,CAEA,gBACA,CACA,uCACA,MACA,CACA,6CACA,uBACA,CACA,CACA,kCAEA,WAAA,CADA,cAAA,CAEA,mBAAA,CAAA,gBACA,CACA,6BAGA,wBAAA,CACA,qBAAA,CACA,iBAAA,CACA,qBAAA,CALA,eAAA,CACA,YAKA",sourcesContent:['<template>\n    <div class="wed-host-section container-md mx-auto">\n        <div class="wed-host-section-container">\n            <form\n                v-if="edit == true || showForm == true"\n                @submit.prevent="sendSaveDate"\n                class="save-date-form"\n            >\n                <h1>Save The Date</h1>\n                <h3>Upload the image for countdown</h3>\n                <div\n                    @dragover.prevent="drago($event)"\n                    @dragleave.prevent="dragl($event)"\n                    @drop.prevent="dragdrop($event)"\n                    class="drag-drop-cont"\n                >\n                    <img src="/assets/savedate/savedateupload.png" alt="" />\n                    <h5>{{ uploadMessage }}</h5>\n                    <img\n                        style="width: 100px; height: 100px"\n                        v-if="uploadedImg"\n                        :src="uploadedImg"\n                        alt=""\n                    />\n                    <span>OR</span>\n                    <button type="button" @click="$refs.savedateUpload.click()">\n                        Browse files\n                    </button>\n                    <input\n                        @change="uploadFile($event)"\n                        type="file"\n                        ref="savedateUpload"\n                    />\n                </div>\n                <span\n                    v-if="errorsSubmit && errorsSubmit.imageOne"\n                    class="errMsg"\n                    >{{ errorsSubmit.imageOne[0] }}</span\n                >\n                <div class="save-date-submit-cont">\n                    <button :disabled="disableSubmit" type="submit">\n                        Submit\n                    </button>\n                </div>\n            </form>\n            <div v-else>\n                <h1 class="heading">Save The Date</h1>\n                <div class="guest-banner-cont">\n                    <img \n                        :src="getImagePath(dateSave?.imageOne)" \n                        @error="handleImageError" \n                        alt="Save the date" \n                        class="save-date-image"\n                    />\n                    <div class="overlay"></div>\n                    <div class="guest-banner-content">\n                        <div class="guest-banner-couple-name">\n                            <span>{{ invitation?.side == \'bride\' ? invitation?.brideName : invitation?.groomName }}</span>\n                            <span>weds</span>\n                            <span>{{ invitation?.side == \'groom\' ? invitation?.brideName : invitation?.groomName }}</span>\n                        </div>\n                        <div>\n                            <img\n                                src="/assets/guestInvi/banner-invite.svg"\n                                alt=""\n                            />\n                        </div>\n                        \x3c!-- Add countdown timer elements here --\x3e\n                        <div class="guest-banner-timer">\n                            <div class="guest-banner-timer-single">\n                                <span>00</span>\n                                <span>Days</span>\n                            </div>\n                            <div class="guest-banner-timer-single">\n                                <span>00</span>\n                                <span>Hours</span>\n                            </div>\n                            <div class="guest-banner-timer-single">\n                                <span>00</span>\n                                <span>Minutes</span>\n                            </div>\n                            <div class="guest-banner-timer-single">\n                                <span>00</span>\n                                <span>Seconds</span>\n                            </div>\n                        </div>\n                        <div class="guest-banner-slogan">\n                            <div>We can\'t wait to celebrate with you!</div>\n                            <div>\n                                With pride and joy, we invite you to share a\n                                special day in our lives as weâ€¦\n                            </div>\n                        </div>\n                    </div>\n                    <div>\n                        <img\n                            @click="\n                                edit = true;\n                                uploadMessage = \'Change Old Image\';\n                            "\n                            src="/assets/miscellenous/edit.svg"\n                            alt=""\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n        \x3c!-- Add debug info during development --\x3e\n        <div v-if="debug" class="debug-info">\n            <p>Original path: {{ dateSave?.imageOne }}</p>\n            <p>Processed path: {{ getImagePath(dateSave?.imageOne) }}</p>\n        </div>\n        <FlashMessage :message="message"></FlashMessage>\n    </div>\n</template>\n\n<script>\nimport FlashMessage from "../../FlashMessage.vue";\n\nexport default {\n    props: ["loggedIn", "invitation", "savedate"],\n    components: {\n        FlashMessage,\n    },\n    data() {\n        return {\n            dateSave: this.savedate || null,\n            uploadMessage: "Drag & Drop your file here",\n            imageOne: null,\n            disableSubmit: false,\n            edit: false,\n            message: null,\n            errorsSubmit: null,\n            showForm: this.savedate ? false : true,\n            uploadedImg: null,\n            countdownInterval: null,\n            debug: false, // Set to true to show debugging info\n            imageLoaded: false\n        };\n    },\n    mounted() {\n        console.log("Component mounted with savedate:", this.savedate);\n        \n        if (this.savedate) {\n            this.dateSave = this.savedate;\n            console.log("Image path from savedate:", this.dateSave.imageOne);\n        }\n        \n        // Check if we can access the storage directory\n        this.checkStorageAccess();\n    },\n    methods: {\n        sendSaveDate() {\n            let _this = this;\n            _this.disableSubmit = true;\n            _this.errorsSubmit = null;\n            \n            // Create FormData object\n            let formData = new FormData();\n            \n            // Check if we have a file to upload\n            if (!_this.imageOne && !_this.edit) {\n                _this.errorsSubmit = { imageOne: ["Please select an image file"] };\n                _this.disableSubmit = false;\n                return;\n            }\n            \n            // Add the image file if it exists\n            if (_this.imageOne) {\n                formData.append("imageOne", _this.imageOne);\n            }\n            \n            // Set the request type\n            if (_this.edit) {\n                let link = route("hostsavedate.update", [\n                    _this.invitation,\n                    _this.dateSave,\n                ]);\n                formData.append("_method", "PATCH");\n                formData.append("type", "update");\n                \n                // Make the request\n                axios.post(link, formData, {\n                    headers: { "Content-Type": "multipart/form-data" }\n                })\n                .then(response => {\n                    console.log("Success response:", response.data);\n                    _this.handleSuccessResponse(response);\n                })\n                .catch(error => {\n                    _this.handleErrorResponse(error);\n                });\n            } else {\n                // For new save date\n                let link = route("hostsavedate.store", _this.invitation);\n                formData.append("type", "store");\n                \n                // Make the request\n                axios.post(link, formData, {\n                    headers: { "Content-Type": "multipart/form-data" }\n                })\n                .then(response => {\n                    console.log("Success response:", response.data);\n                    _this.handleSuccessResponse(response);\n                })\n                .catch(error => {\n                    _this.handleErrorResponse(error);\n                });\n            }\n        },\n        drago(e) {\n            this.uploadMessage = "Drop your File";\n        },\n        dragl(e) {\n            if (this.imageOne) {\n                this.uploadMessage = this.imageOne.name;\n                this.uploadedImg = URL.createObjectURL(this.imageOne);\n            } else {\n                this.uploadMessage = "Drag & Drop your file here";\n                this.uploadedImg = null;\n            }\n        },\n        dragdrop(e) {\n            if (!e.dataTransfer.files || !e.dataTransfer.files[0]) {\n                console.log("No file dropped");\n                return;\n            }\n            \n            const file = e.dataTransfer.files[0];\n            \n            // Check file type\n            if (!file.type.match(\'image.*\')) {\n                this.errorsSubmit = { imageOne: ["Please select an image file"] };\n                return;\n            }\n            \n            // Check file size (max 5MB)\n            if (file.size > 5 * 1024 * 1024) {\n                this.errorsSubmit = { imageOne: ["Image size should be less than 5MB"] };\n                return;\n            }\n            \n            this.imageOne = file;\n            this.uploadMessage = file.name;\n            this.uploadedImg = URL.createObjectURL(file);\n            this.errorsSubmit = null;\n        },\n        uploadFile(e) {\n            if (!e.target.files || !e.target.files[0]) {\n                console.log("No file selected");\n                return;\n            }\n            \n            const file = e.target.files[0];\n            console.log("Selected file:", file);\n            \n            // Check file type\n            if (!file.type.match(\'image.*\')) {\n                this.errorsSubmit = { imageOne: ["Please select an image file"] };\n                return;\n            }\n            \n            // Check file size (max 5MB)\n            if (file.size > 5 * 1024 * 1024) {\n                this.errorsSubmit = { imageOne: ["Image size should be less than 5MB"] };\n                return;\n            }\n            \n            // Store the file object directly\n            this.imageOne = file;\n            this.uploadMessage = file.name;\n            this.uploadedImg = URL.createObjectURL(file);\n            this.errorsSubmit = null;\n        },\n        countDown() {\n            if (!this.invitation || !this.invitation.startDate) {\n                console.error("No start date available for countdown");\n                return;\n            }\n\n            console.log("Initializing countdown with date:", this.invitation.startDate);\n            \n            // Wait for DOM to be ready\n            this.$nextTick(() => {\n                const deadlineTimer = document.querySelectorAll(\n                    ".guest-banner-timer-single > span:nth-child(1)"\n                );\n\n                if (!deadlineTimer || deadlineTimer.length === 0) {\n                    console.error("Countdown elements not found in DOM");\n                    return;\n                }\n\n                console.log("Found countdown elements:", deadlineTimer.length);\n                \n                const futureDate = new Date(this.invitation.startDate);\n                const futureTime = futureDate.getTime();\n                \n                // Initialize countdown\n                this.updateCountdown(deadlineTimer, futureTime);\n                \n                // Clear existing interval if any\n                if (this.countdownInterval) {\n                    clearInterval(this.countdownInterval);\n                }\n                \n                // Set new interval\n                this.countdownInterval = setInterval(() => {\n                    this.updateCountdown(deadlineTimer, futureTime);\n                }, 1000);\n            });\n        },\n        updateCountdown(deadlineTimer, futureTime) {\n            const today = new Date().getTime();\n            const gap = futureTime - today;\n\n            if (gap <= 0) {\n                if (this.countdownInterval) {\n                    clearInterval(this.countdownInterval);\n                }\n                deadlineTimer.forEach((item, i) => {\n                    item.innerHTML = "00";\n                });\n                return;\n            }\n\n            const second = 1000;\n            const minute = second * 60;\n            const hour = minute * 60;\n            const day = hour * 24;\n\n            const d = Math.floor(gap / day);\n            const h = Math.floor((gap % day) / hour);\n            const m = Math.floor((gap % hour) / minute);\n            const s = Math.floor((gap % minute) / second);\n\n            if (deadlineTimer[0]) deadlineTimer[0].innerHTML = d < 10 ? "0" + d : d;\n            if (deadlineTimer[1]) deadlineTimer[1].innerHTML = h < 10 ? "0" + h : h;\n            if (deadlineTimer[2]) deadlineTimer[2].innerHTML = m < 10 ? "0" + m : m;\n            if (deadlineTimer[3]) deadlineTimer[3].innerHTML = s < 10 ? "0" + s : s;\n        },\n        getImagePath(path) {\n            if (!path) {\n                return \'/assets/savedate/savedateupload.png\';\n            }\n            \n            // For debugging\n            console.log(\'Original path:\', path);\n            \n            // Normalize path\n            let normalizedPath = path;\n            \n            // Remove leading backslash if present\n            if (normalizedPath.startsWith(\'\\\\\')) {\n                normalizedPath = normalizedPath.substring(1);\n            }\n            \n            // Convert all backslashes to forward slashes\n            normalizedPath = normalizedPath.replace(/\\\\/g, \'/\');\n            \n            // Remove any leading slashes\n            normalizedPath = normalizedPath.replace(/^\\/+/, \'\');\n            \n            console.log(\'Normalized path:\', normalizedPath);\n            \n            // Check if it\'s a full URL\n            if (normalizedPath.startsWith(\'http://\') || normalizedPath.startsWith(\'https://\')) {\n                return normalizedPath;\n            }\n            \n            // Return the path directly - no need to add /storage prefix\n            return \'/\' + normalizedPath;\n        },\n        // Handle successful response\n        handleSuccessResponse(response) {\n            console.log("Success response data:", response.data);\n            this.edit = false;\n            this.showForm = false;\n            this.disableSubmit = false;\n            this.message = response.data["message"];\n            this.dateSave = response.data["data"];\n            \n            // Log the image path from the response\n            if (this.dataSave && this.dataSave.imageOne) {\n                console.log("Image path from response:", this.dataSave.imageOne);\n            }\n            \n            this.uploadMessage = "Drag & Drop your file here";\n            this.imageOne = null;\n            this.uploadedImg = null;\n            \n            // Wait for DOM to update before initializing countdown\n            setTimeout(() => {\n                this.countDown();\n                this.$forceUpdate();\n            }, 100);\n            \n            setTimeout(() => {\n                this.message = null;\n            }, 3000);\n        },\n        // Handle error response\n        handleErrorResponse(error) {\n            console.error("Error response:", error.response);\n            this.disableSubmit = false;\n            \n            if (error.response && error.response.data) {\n                if (error.response.data.errors) {\n                    this.errorsSubmit = error.response.data.errors;\n                    console.log("Validation errors:", error.response.data.errors);\n                }\n                \n                if (error.response.data.message) {\n                    this.message = error.response.data.message;\n                    setTimeout(() => {\n                        this.message = null;\n                    }, 3000);\n                }\n            }\n        },\n        // Add this method to debug form data\n        debugFormData(formData) {\n            console.log("Form data contents:");\n            for (let pair of formData.entries()) {\n                console.log(pair[0] + \': \' + (pair[1] instanceof File ? \n                    `File: ${pair[1].name}, size: ${pair[1].size}, type: ${pair[1].type}` : \n                    pair[1]));\n            }\n        },\n        handleImageError(event) {\n            console.error(\'Image failed to load:\', event.target.src);\n            \n            // Try alternative paths\n            const originalSrc = event.target.src;\n            const url = new URL(originalSrc);\n            const pathOnly = url.pathname;\n            \n            // Try different paths\n            const alternatives = [];\n            \n            // 1. Try with storage prefix\n            if (!pathOnly.includes(\'/storage/\')) {\n                const parts = pathOnly.split(\'/\');\n                parts.splice(1, 0, \'storage\');\n                alternatives.push(url.origin + parts.join(\'/\'));\n            }\n            \n            // 2. Try without storage prefix\n            if (pathOnly.includes(\'/storage/\')) {\n                alternatives.push(url.origin + pathOnly.replace(\'/storage/\', \'/\'));\n            }\n            \n            // 3. Try with different case for \'uploads\'\n            if (pathOnly.toLowerCase().includes(\'/uploads/\')) {\n                const fixedPath = pathOnly.replace(/\\/uploads\\//i, \'/Uploads/\');\n                alternatives.push(url.origin + fixedPath);\n            }\n            \n            console.log(\'Trying alternatives:\', alternatives);\n            \n            // Try each alternative\n            let alternativeIndex = 0;\n            \n            const tryNextAlternative = () => {\n                if (alternativeIndex >= alternatives.length) {\n                    // If all alternatives fail, use default image\n                    event.target.src = \'/assets/savedate/savedateupload.png\';\n                    return;\n                }\n                \n                const alternative = alternatives[alternativeIndex++];\n                console.log(\'Trying alternative:\', alternative);\n                \n                const img = new Image();\n                img.onload = () => {\n                    event.target.src = alternative;\n                };\n                img.onerror = tryNextAlternative;\n                img.src = alternative;\n            };\n            \n            tryNextAlternative();\n        },\n        checkStorageAccess() {\n            // Try to access a known path in storage\n            fetch(\'/storage/test-access.txt\')\n                .then(response => {\n                    if (response.ok) {\n                        console.log(\'Storage is accessible\');\n                    } else {\n                        console.warn(\'Storage might not be accessible:\', response.status);\n                    }\n                })\n                .catch(error => {\n                    console.warn(\'Error accessing storage:\', error);\n                });\n            \n            // Also check if we can access the assets directory\n            fetch(\'/assets/savedate/savedateupload.png\')\n                .then(response => {\n                    if (response.ok) {\n                        console.log(\'Assets directory is accessible\');\n                    } else {\n                        console.warn(\'Assets directory might not be accessible:\', response.status);\n                    }\n                })\n                .catch(error => {\n                    console.warn(\'Error accessing assets directory:\', error);\n                });\n        },\n    },\n    mounted() {\n        this.$nextTick(() => {\n            // Initialize component based on whether we have savedate data\n            if (this.savedate) {\n                this.dateSave = this.savedate;\n                this.showForm = false;\n                \n                // If we have both invitation and savedate data, initialize countdown\n                if (this.invitation && this.invitation.startDate) {\n                    console.log("Initializing countdown on mount");\n                    setTimeout(() => {\n                        this.countDown();\n                    }, 500); // Give DOM time to render\n                }\n            } else {\n                this.showForm = true;\n            }\n        });\n    },\n    beforeDestroy() {\n        // Clean up interval when component is destroyed\n        if (this.countdownInterval) {\n            clearInterval(this.countdownInterval);\n        }\n    },\n};\n<\/script>\n\n<style scoped>\n.save-date-form > h1,\n.heading {\n    font-family: "Perpetua";\n    font-style: normal;\n    font-weight: 700;\n    font-size: 30px;\n    line-height: 34px;\n    text-align: center;\n    width: 100%;\n    color: #9e3e5e;\n}\n.save-date-form > h3 {\n    font-family: "Poppins";\n    font-style: normal;\n    font-weight: 300;\n    font-size: 16px;\n    line-height: 24px;\n    text-align: center;\n    width: 100%;\n    color: #000000;\n}\n.drag-drop-cont {\n    max-width: 493px;\n    width: 100%;\n    background: linear-gradient(180deg, #fafcff 0%, #f1f6ff 100%);\n    border: 2px dashed #c8c3c3;\n    padding: 28px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    margin: auto;\n}\n.drag-drop-cont > img {\n    width: 41px;\n    height: 34px;\n    margin-bottom: 15px;\n}\n.drag-drop-cont > h5 {\n    font-family: "Poppins";\n    font-style: normal;\n    font-weight: 500;\n    font-size: 12.1302px;\n    line-height: 18px;\n    color: #8b8b8b;\n}\n.drag-drop-cont > span {\n    font-family: "Montserrat";\n    font-style: normal;\n    font-weight: 500;\n    font-size: 9.79749px;\n    line-height: 12px;\n    color: #c8c3c3;\n}\n.drag-drop-cont > button {\n    background: #dcdcdb;\n    border-radius: 4.47811px;\n    border: none;\n    outline: none;\n    padding: 10px 19px;\n    font-family: "Poppins";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 10.2347px;\n    line-height: 15px;\n    text-align: center;\n    color: #747474;\n    margin-top: 10px;\n}\n.drag-drop-cont > input {\n    display: none;\n}\n\n.save-date-submit-cont {\n    width: 100%;\n    text-align: center;\n    margin: 48px 0;\n}\n.save-date-submit-cont > button {\n    background: #c4456f;\n    border-radius: 7.72px;\n    padding: 11px 82px;\n    border: none;\n    outline: none;\n    font-family: "Poppins";\n    font-style: normal;\n    font-weight: 600;\n    font-size: 13px;\n    line-height: 20px;\n    text-align: center;\n    color: #ffffff;\n}\n.save-date-form > .errMsg {\n    display: block;\n    text-align: center;\n    margin-top: 12px;\n}\n/* Banner css start */\n.guest-banner-cont {\n    padding-top: 55%;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    top: 0;\n}\n.guest-banner-cont > img:nth-child(1) {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    object-fit: cover;\n}\n.guest-banner-cont > .overlay {\n    background: rgba(0, 0, 0, 0.5);\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    z-index: 999;\n}\n.guest-banner-cont > div:nth-child(4) {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    z-index: 99999;\n    cursor: pointer;\n}\n.guest-banner-content {\n    margin: auto;\n    position: absolute;\n    top: 3%;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    z-index: 9999;\n}\n/* .guest-banner-content {\n    margin-bottom: 3em;\n} */\n.guest-banner-accept > button {\n    font-family: "Segoe UI";\n    font-style: normal;\n    font-weight: 700;\n    font-size: 13.052px;\n    line-height: 17px;\n    text-transform: uppercase;\n    padding: 13px 38px;\n}\n.guest-banner-accept > button:nth-child(1) {\n    outline: none;\n    background: rgba(196, 69, 111, 0.5);\n    border: 1.12998px solid #c4456f;\n    border-radius: 6.81176px;\n    color: #ffffff;\n    margin-right: 15px;\n}\n.guest-banner-accept > button:nth-child(2) {\n    outline: none;\n    background: rgba(72, 72, 72, 0.2);\n    border: 1.12998px solid #696969;\n    border-radius: 6.81176px;\n    color: #ffffff;\n}\n.guest-banner-couple-name {\n    margin-top: 2em;\n}\n.guest-banner-couple-name > span {\n    font-family: "STSong";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 29.2084px;\n    line-height: 38px;\n    text-transform: uppercase;\n    color: #ffffff;\n}\n.guest-banner-couple-name > span:nth-child(2) {\n    font-family: "Stalemate";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 53.1063px;\n    line-height: 78px;\n    color: #ffffff;\n    text-transform: none;\n    margin: 0 20px;\n}\n.guest-banner-venue-date {\n    font-family: "Poppins";\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 24px;\n    text-transform: capitalize;\n    color: #ffffff;\n    position: relative;\n    display: flex;\n    flex-wrap: nowrap;\n}\n.guest-banner-venue-date > span {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n.guest-banner-venue-date > span:nth-child(2) {\n    margin: 0 7px;\n}\n\n.guest-banner-venue-date > span:nth-child(1)::after {\n    content: "";\n    position: relative;\n    width: 50px;\n    height: 2px;\n    top: -1px;\n    background: #ffffff;\n    display: inline-block;\n    right: 0;\n    z-index: 99999;\n}\n.guest-banner-venue-date > span:nth-child(3)::before {\n    content: "";\n    position: relative;\n    width: 50px;\n    height: 2px;\n    top: -1px;\n    background: #ffffff;\n    display: inline-block;\n    right: 0;\n    z-index: 99999;\n}\n.guest-banner-timer {\n    display: flex;\n    margin: 42px auto;\n}\n.guest-banner-timer-single {\n    background: rgba(255, 255, 255, 0.3);\n    box-shadow: 0px 0px 4px 1px rgba(0, 0, 0, 0.25);\n    padding: 12px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    margin-right: 12px;\n    width: 76px;\n    height: 76px;\n}\n.guest-banner-timer:last-child {\n    margin-right: 0;\n}\n.guest-banner-timer-single > span:nth-child(1) {\n    font-family: "Perpetua";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 44.083px;\n    line-height: 51px;\n    text-align: center;\n    display: block;\n    color: #ffffff;\n}\n.guest-banner-timer-single > span:nth-child(2) {\n    font-family: "Segoe UI";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 7.62142px;\n    line-height: 10px;\n    display: block;\n    text-align: center;\n    color: #ffffff;\n}\n.guest-banner-slogan > div:nth-child(1) {\n    font-family: "Poppins";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 24.7422px;\n    line-height: 37px;\n    text-align: center;\n    text-transform: capitalize;\n    color: #ffffff;\n}\n.guest-banner-slogan > div:nth-child(2) {\n    font-family: "Poppins";\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14.8453px;\n    line-height: 22px;\n    text-align: center;\n    text-transform: lowercase;\n\n    color: #dfdfdf;\n}\n@media screen and (max-width: 1600px) {\n    .guest-banner-cont {\n        padding-top: 50%;\n    }\n}\n@media screen and (max-width: 1300px) {\n    .guest-banner-cont {\n        padding-top: 60%;\n    }\n}\n@media screen and (max-width: 1200px) {\n    .guest-banner-cont {\n        padding-top: 70%;\n    }\n}\n@media screen and (max-width: 991px) {\n    .guest-banner-cont {\n        padding-top: 80%;\n    }\n    .guest-banner-timer {\n        margin: 22px auto;\n    }\n    .guest-banner-timer-single {\n        width: 76px;\n        height: 76px;\n    }\n    /* .guest-banner-timer-single > span:nth-child(1) {\n        font-size: 60px;\n        line-height: 60px;\n    } */\n    .guest-banner-content {\n        top: 3%;\n    }\n    .wed-host-section-container {\n        padding: 4em 0 !important;\n        padding-bottom: 6em !important;\n    }\n}\n@media screen and (max-width: 768px) {\n    .guest-banner-cont {\n        padding-top: 100%;\n    }\n    .guest-banner-couple-name {\n        margin-top: 1px;\n    }\n    .guest-banner-cont {\n        padding-top: 83%;\n    }\n}\n@media screen and (max-width: 576px) {\n    .guest-banner-couple-name > span {\n        font-weight: 400;\n        font-size: 18.2232px;\n        line-height: 24px;\n    }\n    .guest-banner-couple-name > span:nth-child(2) {\n        font-weight: 400;\n        font-size: 33.1331px;\n        line-height: 49px;\n    }\n    .guest-banner-venue-date {\n        font-weight: 500;\n        font-size: 10px;\n        line-height: 15px;\n    }\n    .guest-banner-timer-single > span:nth-child(1) {\n        font-weight: 400;\n        font-size: 35.2648px;\n        line-height: 40px;\n    }\n    .guest-banner-timer-single {\n        width: 66px;\n        height: 65px;\n        padding: 0;\n    }\n    .guest-banner-slogan > div:nth-child(1) {\n        font-weight: 400;\n        font-size: 10.6195px;\n        line-height: 16px;\n    }\n    .guest-banner-slogan > div:nth-child(2) {\n        font-weight: 400;\n        font-size: 6.37168px;\n        line-height: 10px;\n    }\n    .guest-banner-content {\n        top: 8%;\n    }\n    .wed-host-section-container {\n        padding: 4em 0 !important;\n    }\n}\n.save-date-image {\n    max-width: 100%;\n    height: auto;\n    object-fit: cover;\n}\n.debug-info {\n    margin-top: 20px;\n    padding: 10px;\n    background-color: #f8f9fa;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    font-family: monospace;\n}\n</style>\n\n'],sourceRoot:""}]);const r=s},92394:(n,e,t)=>{t.r(e),t.d(e,{default:()=>A});const a={name:"flashMessage",props:["message"],data:function(){return{show:!1}},methods:{},mounted:function(){var n=this;setTimeout((function(){n.show=!1}),3e3)},computed:{alert:function(){return this.show=!0,this.message}}};var i=t(93379),o=t.n(i),s=t(16424),r={insert:"head",singleton:!1};o()(s.Z,r);s.Z.locals;const A=(0,t(51900).Z)(a,(function(){var n=this,e=n._self._c;return e("Transition",[n.alert&&n.show?e("div",{staticStyle:{"background-color":"#d7f3e3",border:"1px solid #c3ecd5","border-radius":"0.25rem",padding:"1em","padding-right":"2em",color:"#227444","min-width":"150px",width:"max-content",position:"fixed",bottom:"70px",right:"30px","z-index":"999999999999999999999"}},[n._v("\n        "+n._s(n.alert)+"\n        "),e("span",{staticStyle:{color:"black","margin-right":"-10px",padding:"10px","font-size":"20px",cursor:"pointer"},on:{click:function(e){n.show=!1}}},[n._v("Ã—")])]):n._e()])}),[],!1,null,"2a7c6db1",null).exports},33495:(n,e,t)=>{t.r(e),t.d(e,{default:()=>p});var a;function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return s(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var a=0,i=function(){};return{s:i,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,A=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return r=n.done,n},e:function(n){A=!0,o=n},f:function(){try{r||null==t.return||t.return()}finally{if(A)throw o}}}}function s(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}const r=(i(a={props:["loggedIn","invitation","savedate"],components:{FlashMessage:t(92394).default},data:function(){return{dateSave:this.savedate||null,uploadMessage:"Drag & Drop your file here",imageOne:null,disableSubmit:!1,edit:!1,message:null,errorsSubmit:null,showForm:!this.savedate,uploadedImg:null,countdownInterval:null,debug:!1,imageLoaded:!1}},mounted:function(){console.log("Component mounted with savedate:",this.savedate),this.savedate&&(this.dateSave=this.savedate,console.log("Image path from savedate:",this.dateSave.imageOne)),this.checkStorageAccess()},methods:{sendSaveDate:function(){var n=this;n.disableSubmit=!0,n.errorsSubmit=null;var e=new FormData;if(!n.imageOne&&!n.edit)return n.errorsSubmit={imageOne:["Please select an image file"]},void(n.disableSubmit=!1);if(n.imageOne&&e.append("imageOne",n.imageOne),n.edit){var t=route("hostsavedate.update",[n.invitation,n.dateSave]);e.append("_method","PATCH"),e.append("type","update"),axios.post(t,e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log("Success response:",e.data),n.handleSuccessResponse(e)})).catch((function(e){n.handleErrorResponse(e)}))}else{var a=route("hostsavedate.store",n.invitation);e.append("type","store"),axios.post(a,e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log("Success response:",e.data),n.handleSuccessResponse(e)})).catch((function(e){n.handleErrorResponse(e)}))}},drago:function(n){this.uploadMessage="Drop your File"},dragl:function(n){this.imageOne?(this.uploadMessage=this.imageOne.name,this.uploadedImg=URL.createObjectURL(this.imageOne)):(this.uploadMessage="Drag & Drop your file here",this.uploadedImg=null)},dragdrop:function(n){if(n.dataTransfer.files&&n.dataTransfer.files[0]){var e=n.dataTransfer.files[0];e.type.match("image.*")?e.size>5242880?this.errorsSubmit={imageOne:["Image size should be less than 5MB"]}:(this.imageOne=e,this.uploadMessage=e.name,this.uploadedImg=URL.createObjectURL(e),this.errorsSubmit=null):this.errorsSubmit={imageOne:["Please select an image file"]}}else console.log("No file dropped")},uploadFile:function(n){if(n.target.files&&n.target.files[0]){var e=n.target.files[0];console.log("Selected file:",e),e.type.match("image.*")?e.size>5242880?this.errorsSubmit={imageOne:["Image size should be less than 5MB"]}:(this.imageOne=e,this.uploadMessage=e.name,this.uploadedImg=URL.createObjectURL(e),this.errorsSubmit=null):this.errorsSubmit={imageOne:["Please select an image file"]}}else console.log("No file selected")},countDown:function(){var n=this;this.invitation&&this.invitation.startDate?(console.log("Initializing countdown with date:",this.invitation.startDate),this.$nextTick((function(){var e=document.querySelectorAll(".guest-banner-timer-single > span:nth-child(1)");if(e&&0!==e.length){console.log("Found countdown elements:",e.length);var t=new Date(n.invitation.startDate).getTime();n.updateCountdown(e,t),n.countdownInterval&&clearInterval(n.countdownInterval),n.countdownInterval=setInterval((function(){n.updateCountdown(e,t)}),1e3)}else console.error("Countdown elements not found in DOM")}))):console.error("No start date available for countdown")},updateCountdown:function(n,e){var t=e-(new Date).getTime();if(t<=0)return this.countdownInterval&&clearInterval(this.countdownInterval),void n.forEach((function(n,e){n.innerHTML="00"}));var a=6e4,i=36e5,o=24*i,s=Math.floor(t/o),r=Math.floor(t%o/i),A=Math.floor(t%i/a),l=Math.floor(t%a/1e3);n[0]&&(n[0].innerHTML=s<10?"0"+s:s),n[1]&&(n[1].innerHTML=r<10?"0"+r:r),n[2]&&(n[2].innerHTML=A<10?"0"+A:A),n[3]&&(n[3].innerHTML=l<10?"0"+l:l)},getImagePath:function(n){if(!n)return"/assets/savedate/savedateupload.png";console.log("Original path:",n);var e=n;return e.startsWith("\\")&&(e=e.substring(1)),e=(e=e.replace(/\\/g,"/")).replace(/^\/+/,""),console.log("Normalized path:",e),e.startsWith("http://")||e.startsWith("https://")?e:"/"+e},handleSuccessResponse:function(n){var e=this;console.log("Success response data:",n.data),this.edit=!1,this.showForm=!1,this.disableSubmit=!1,this.message=n.data.message,this.dateSave=n.data.data,this.dataSave&&this.dataSave.imageOne&&console.log("Image path from response:",this.dataSave.imageOne),this.uploadMessage="Drag & Drop your file here",this.imageOne=null,this.uploadedImg=null,setTimeout((function(){e.countDown(),e.$forceUpdate()}),100),setTimeout((function(){e.message=null}),3e3)},handleErrorResponse:function(n){var e=this;console.error("Error response:",n.response),this.disableSubmit=!1,n.response&&n.response.data&&(n.response.data.errors&&(this.errorsSubmit=n.response.data.errors,console.log("Validation errors:",n.response.data.errors)),n.response.data.message&&(this.message=n.response.data.message,setTimeout((function(){e.message=null}),3e3)))},debugFormData:function(n){console.log("Form data contents:");var e,t=o(n.entries());try{for(t.s();!(e=t.n()).done;){var a=e.value;console.log(a[0]+": "+(a[1]instanceof File?"File: ".concat(a[1].name,", size: ").concat(a[1].size,", type: ").concat(a[1].type):a[1]))}}catch(n){t.e(n)}finally{t.f()}},handleImageError:function(n){console.error("Image failed to load:",n.target.src);var e=n.target.src,t=new URL(e),a=t.pathname,i=[];if(!a.includes("/storage/")){var o=a.split("/");o.splice(1,0,"storage"),i.push(t.origin+o.join("/"))}if(a.includes("/storage/")&&i.push(t.origin+a.replace("/storage/","/")),a.toLowerCase().includes("/uploads/")){var s=a.replace(/\/uploads\//i,"/Uploads/");i.push(t.origin+s)}console.log("Trying alternatives:",i);var r=0;!function e(){if(r>=i.length)n.target.src="/assets/savedate/savedateupload.png";else{var t=i[r++];console.log("Trying alternative:",t);var a=new Image;a.onload=function(){n.target.src=t},a.onerror=e,a.src=t}}()},checkStorageAccess:function(){fetch("/storage/test-access.txt").then((function(n){n.ok?console.log("Storage is accessible"):console.warn("Storage might not be accessible:",n.status)})).catch((function(n){console.warn("Error accessing storage:",n)})),fetch("/assets/savedate/savedateupload.png").then((function(n){n.ok?console.log("Assets directory is accessible"):console.warn("Assets directory might not be accessible:",n.status)})).catch((function(n){console.warn("Error accessing assets directory:",n)}))}}},"mounted",(function(){var n=this;this.$nextTick((function(){n.savedate?(n.dateSave=n.savedate,n.showForm=!1,n.invitation&&n.invitation.startDate&&(console.log("Initializing countdown on mount"),setTimeout((function(){n.countDown()}),500))):n.showForm=!0}))})),i(a,"beforeDestroy",(function(){this.countdownInterval&&clearInterval(this.countdownInterval)})),a);var A=t(93379),l=t.n(A),d=t(46915),c={insert:"head",singleton:!1};l()(d.Z,c);d.Z.locals;const p=(0,t(51900).Z)(r,(function(){var n,e,t,a,i,o,s,r,A,l=this,d=l._self._c;return d("div",{staticClass:"wed-host-section container-md mx-auto"},[d("div",{staticClass:"wed-host-section-container"},[1==l.edit||1==l.showForm?d("form",{staticClass:"save-date-form",on:{submit:function(n){return n.preventDefault(),l.sendSaveDate.apply(null,arguments)}}},[d("h1",[l._v("Save The Date")]),l._v(" "),d("h3",[l._v("Upload the image for countdown")]),l._v(" "),d("div",{staticClass:"drag-drop-cont",on:{dragover:function(n){return n.preventDefault(),l.drago(n)},dragleave:function(n){return n.preventDefault(),l.dragl(n)},drop:function(n){return n.preventDefault(),l.dragdrop(n)}}},[d("img",{attrs:{src:"/assets/savedate/savedateupload.png",alt:""}}),l._v(" "),d("h5",[l._v(l._s(l.uploadMessage))]),l._v(" "),l.uploadedImg?d("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:l.uploadedImg,alt:""}}):l._e(),l._v(" "),d("span",[l._v("OR")]),l._v(" "),d("button",{attrs:{type:"button"},on:{click:function(n){return l.$refs.savedateUpload.click()}}},[l._v("\n                    Browse files\n                ")]),l._v(" "),d("input",{ref:"savedateUpload",attrs:{type:"file"},on:{change:function(n){return l.uploadFile(n)}}})]),l._v(" "),l.errorsSubmit&&l.errorsSubmit.imageOne?d("span",{staticClass:"errMsg"},[l._v(l._s(l.errorsSubmit.imageOne[0]))]):l._e(),l._v(" "),d("div",{staticClass:"save-date-submit-cont"},[d("button",{attrs:{disabled:l.disableSubmit,type:"submit"}},[l._v("\n                    Submit\n                ")])])]):d("div",[d("h1",{staticClass:"heading"},[l._v("Save The Date")]),l._v(" "),d("div",{staticClass:"guest-banner-cont"},[d("img",{staticClass:"save-date-image",attrs:{src:l.getImagePath(null===(n=l.dateSave)||void 0===n?void 0:n.imageOne),alt:"Save the date"},on:{error:l.handleImageError}}),l._v(" "),d("div",{staticClass:"overlay"}),l._v(" "),d("div",{staticClass:"guest-banner-content"},[d("div",{staticClass:"guest-banner-couple-name"},[d("span",[l._v(l._s("bride"==(null===(e=l.invitation)||void 0===e?void 0:e.side)?null===(t=l.invitation)||void 0===t?void 0:t.brideName:null===(a=l.invitation)||void 0===a?void 0:a.groomName))]),l._v(" "),d("span",[l._v("weds")]),l._v(" "),d("span",[l._v(l._s("groom"==(null===(i=l.invitation)||void 0===i?void 0:i.side)?null===(o=l.invitation)||void 0===o?void 0:o.brideName:null===(s=l.invitation)||void 0===s?void 0:s.groomName))])]),l._v(" "),l._m(0),l._v(" "),l._m(1),l._v(" "),l._m(2)]),l._v(" "),d("div",[d("img",{attrs:{src:"/assets/miscellenous/edit.svg",alt:""},on:{click:function(n){l.edit=!0,l.uploadMessage="Change Old Image"}}})])])])]),l._v(" "),l.debug?d("div",{staticClass:"debug-info"},[d("p",[l._v("Original path: "+l._s(null===(r=l.dateSave)||void 0===r?void 0:r.imageOne))]),l._v(" "),d("p",[l._v("Processed path: "+l._s(l.getImagePath(null===(A=l.dateSave)||void 0===A?void 0:A.imageOne)))])]):l._e(),l._v(" "),d("FlashMessage",{attrs:{message:l.message}})],1)}),[function(){var n=this._self._c;return n("div",[n("img",{attrs:{src:"/assets/guestInvi/banner-invite.svg",alt:""}})])},function(){var n=this,e=n._self._c;return e("div",{staticClass:"guest-banner-timer"},[e("div",{staticClass:"guest-banner-timer-single"},[e("span",[n._v("00")]),n._v(" "),e("span",[n._v("Days")])]),n._v(" "),e("div",{staticClass:"guest-banner-timer-single"},[e("span",[n._v("00")]),n._v(" "),e("span",[n._v("Hours")])]),n._v(" "),e("div",{staticClass:"guest-banner-timer-single"},[e("span",[n._v("00")]),n._v(" "),e("span",[n._v("Minutes")])]),n._v(" "),e("div",{staticClass:"guest-banner-timer-single"},[e("span",[n._v("00")]),n._v(" "),e("span",[n._v("Seconds")])])])},function(){var n=this,e=n._self._c;return e("div",{staticClass:"guest-banner-slogan"},[e("div",[n._v("We can't wait to celebrate with you!")]),n._v(" "),e("div",[n._v("\n                            With pride and joy, we invite you to share a\n                            special day in our lives as weâ€¦\n                        ")])])}],!1,null,"03fe498c",null).exports}}]);
//# sourceMappingURL=3495.js.map